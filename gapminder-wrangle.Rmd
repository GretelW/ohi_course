---
title: "gapminder-wrangle.Rmd"
author: "Gretel Waugh"
date: "30/03/2020"
output: html_document
---
#Here we go...

We've moved onto Chapter 6, where I'll be learning to wrangle data using dplyr. Tidyverse is already installed, but I'll need to reload because we restarted R:

```{r tidyverse}

library(tidyverse)
```

Lights on!

Now we're ready to read in the data, which is from GitHub. 

```{r ohidata}
gapminder <- read.csv("https://raw.githubusercontent.com/OHI-Science/data-science-training/master/data/gapminder.csv")
```

Strangely, readr wouldn't work for me. I used read.csv instead.
Now we can inspect the data:

```{r inspect}
head(gapminder)
tail(gapminder, 10) #specifying a number will show that many lines of the data
```

This is a new command for me: str(). It shows the structure of an object. Seems useful...

```{r structure}
str(gapminder)
```

Very handy! Will keep this in mind for a conceptual data summary in future datasets.
Bear in mind that data.frames are preferred to arrays and matrices, essentially because they're more organised. 

Now we can unravel some interesting data frame info:

```{summary}
names(gapminder)
dim(gapminder) # shows dimensions i.e. row x col
ncol(gapminder) # number of columns i.e. variables
nrow(gapminder) # number of rows i.e. observations
summary(gapminder) # summary statistics
library(skimr)
skim(gapminder) # also does summary statistics, but let's compare...
```

So skimr seems to give a more thorough overview of the data. 

# dplyr basics

There's five (5) main functions to perform basic data manipulation. In every case, the first argument is a data frame, and the subsequent arguments describe what to do with the data frame. The result is a new data frame. 

```{r dplyr}
filter()    # pick observations by their values i.e. subsets row-wise
select()    # pick observations by their names
mutate()    # create new variables with functions of existing variables
summarise() # collapse many values down to a single summary
arrange()   # reorder the rows
group_by()  # changes scope of above functions from the entire dataset to group-by-group

```

